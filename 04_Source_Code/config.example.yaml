# P22 Encrypted Traffic IDS - Configuration File
# Microservices Architecture Configuration

# System-wide settings
system:
  logLevel: INFO          # Logging level: DEBUG, INFO, WARNING, ERROR
  maxWorkers: 4           # Maximum parallel workers
  enableGPU: true         # Enable GPU acceleration if available

# Data Ingestion Service Configuration
dataIngestion:
  # CSV Processing Configuration
  csvConfig:
    featureColumns: null  # List of feature columns, null = auto-detect
    labelColumn: label    # Name of label column
    normalize: true       # Apply min-max normalization
  
  # PCAP Processing Configuration
  pcapConfig:
    maxPackets: 100       # Maximum packets to process per file
    maxPacketSize: 1500   # Maximum packet size in bytes
  
  outputDir: ./outputs/ingestion  # Output directory for processed data

# LSTM Model Service Configuration
lstmModel:
  inputSize: 256          # Size of input features
  hiddenSize: 128         # LSTM hidden state size
  numLayers: 2            # Number of LSTM layers
  numClasses: 10          # Number of output classes
  dropoutRate: 0.3        # Dropout probability
  useAttention: true      # Enable attention mechanism
  modelPath: null         # Path to pretrained model (null = random init)
  outputDir: ./outputs/lstm  # Output directory for LSTM predictions

# CNN Model Service Configuration
cnnModel:
  inputChannels: 1        # Number of input channels
  sequenceLength: 1500    # Length of input sequence
  numClasses: 10          # Number of output classes
  convLayers:             # Convolutional layer sizes
    - 64
    - 128
    - 256
  kernelSizes:            # Multi-scale kernel sizes
    - 3
    - 5
    - 7
  dropoutRate: 0.3        # Dropout probability
  modelPath: null         # Path to pretrained model (null = random init)
  outputDir: ./outputs/cnn  # Output directory for CNN predictions

# Output Management Service Configuration
outputManagement:
  baseOutputDir: ./outputs           # Base output directory
  maxBufferSize: 100                 # Maximum buffer size before flush
  aggregationMethod: voting          # Aggregation method: voting, averaging, max

# Training Configuration (Advanced Features)
training:
  numEpochs: 100                  # Maximum training epochs
  batchSize: 32                   # Training batch size
  learningRate: 0.001             # Initial learning rate
  earlyStoppingPatience: 10       # Epochs before early stopping
  numFolds: 5                     # K-Fold cross-validation folds
  validationSplit: 0.2            # Validation data split ratio
  outputDir: ./outputs/training   # Training outputs directory
  loss:
    name: focal_loss              # Loss function: cross_entropy, focal_loss
    alpha: auto                   # Class weighting: null, auto, or list of weights
    gamma: 2.0                    # Gamma for FocalLoss

# Attack Classes (for reference)
attackClasses:
  0: Normal
  1: DoS
  2: Probe
  3: R2L
  4: U2R
  5: Malware
  6: Botnet
  7: DDoS
  8: Infiltration
  9: Exploit
